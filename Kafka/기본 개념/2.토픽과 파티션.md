### 2. 토픽과 파티션

- **토픽과 파티션**
    
    토픽은 카프카에서 데이터를 구분하기 위해 사용하는 단위이다.
    
    토픽은 1개 이상의 파티션을 소유하고 있다.파티션에는 프로듀서가 보낸 데이터들이 들어가 저장되는데 이 데이터를 **레코드**라고 한다.
    
    ![Untitled](https://github.com/seonwoojh/img-source/blob/main/img/%ED%86%A0%ED%94%BD%EA%B3%BC%20%ED%8C%8C%ED%8B%B0%EC%85%98.png?raw=true)
    
    파티션은 카프카의 병렬처리의 핵심으로써 그룹으로 묶인 컨슈머들이 레코드를 병렬로 처리할 수 있도록 매칭됨.
    
    **컨슈머의 처리량이 한정된 상황에서 많은 레코드를 병렬로 처리하는 가장 좋은 방법은 컨슈머의 갯수를 늘려 스케일 아웃을 하는것이다.** 
    
    컨슈머 개수를 늘림과 동시에 파티션 개수도 늘리면 처리량이 증가하는 효과를 볼 수 있다.
    
    파티션은 자료구조에서 접하는 큐(queue)와 비슷한 구조라고 생각하면 쉽다. FIFO 구조와 같이 먼저 들어간 레코드는 컨슈머가 먼저 가져가게 된다. 다만 일반적인 자료구조로 사용되는 큐는 **POP을 하게 되면 레코드를 삭제하지만 카프카에서는 삭제하지 않는다.**
